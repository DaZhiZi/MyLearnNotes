## 指针和引用

### 引用

引用为对象起了另外一个名字，引用类型引用另一种类型。通过将声明符写成 `&d` 的形式来定义引用类型，其中 `d` 是声明的变量名。

```cpp
int ival = 1024;
int &refVal = ival;//refVal 指向 ival (是 ival 的别名)
int &refVal2;//错误，引用必须初始化
```

一般在初始化变量时，初始值会被拷贝到新的对象中。然而定义引用时，程序把引用和它的初始值**绑定**在一起，而不是将初始值拷贝给引用。一旦初始化完成，引用将和它的初始值对象一直绑定在一起。因为无法令引用重新绑定到另一个对象，因此引用必须初始化。

引用并非对象，相反，他只是给一个已经存在的对象起一个别名。

因为引用本身不是一个对象，所以不能定义引用的引用。

### 指针

指针是「指向」另外一种类型的复合类型。与引用类似，指针也实现了对其他对象的间接访问。

指针与引用相比有很多不同点：

1. 指针本身就是一个对象，允许对指针赋值和拷贝，而且在指针的生命周期内它可以先后指向几个不同的对象
2. 指针无需在定义时赋值。和其他内置类型一样，在块作用域内定义的指针如果没有被初始化，也将拥有一个不确定的值。

```cpp
int *ip1,*ip2;//ip1 和 ip2 是都是指向 int 类型的指针
double dp,*dp2;//dp2 是指向 double 型对象的指针,dp 是 double 型对象
```

指针的值应属于下面四种状态之一：

1. 指向一个对象
2. 指向紧邻对象所占空间的下一个位置
3. 空指针，意味着指针没有指向任何对象
4. 无效指针，也就是上述情况之外的其他值

如果指针指向了一个对象，则允许使用**解引用符** `*` 来访问该对象。

**指向指针的引用**：

引用本身不是一个对象，因此不能定义指向引用的指针。但是指针是对象，所以存在指针的引用。

```cpp
int i = 42;
int *p;//p 是一个 int 型指针
int *&r = p;//r 是对指针 p 的一个引用

r = &i;//r 引用了一个指针，因此给 r 赋值 &i 就是令 p 指向 i
*r = 0;//解引用 r 得到 i ，也就是 p 指向的对象，将 i 的值改为0
```

