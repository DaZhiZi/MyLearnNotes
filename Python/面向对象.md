## 面向对象语法



### dir 内置函数

可以使用 dir 来查看一个对象里面都有什么方法。

下面是一些常用的方法/属性

| 序号 | 方法名     | 类型 | 作用                                   |
| ---- | ---------- | ---- | -------------------------------------- |
| 01   | `__new__`  | 方法 | 创建对象时，会被自动调用               |
| 02   | `__init__` | 方法 | 对象被初始化时，会被自动调用           |
| 03   | `__del__`  | 方法 | 对象被从内存中销毁前，会被自动调用     |
| 04   | `__dtr__`  | 方法 | 返回对象的描述信息，print 函数输出使用 |

### 定义简单的类

在Python中要定义一个只包含方法的类，语法格式如下：

```python
class 类名:
    def 方法1(self, 参数列表):
        pass
    def 方法2(self, 参数列表):
        pass
```

- 方法的定义格式和函数几乎一样
- 区别于第一个参数必须是 self 

### 初始化方法

- 当使用 `类名()` 创建方法时，会自动使用 `__init__(self)`
- 为对象属性设置初始值
- 在 `__init__` 方法内部，可以指定一个对象的属性
- 当一个对象从内存中销毁前，会自动调用 `__del__` 方法，类似于析构函数？
- 生命周期就是从一个类创建开始，调用`__del__` 后结束

### 身份运算符

身份运算符用来比较两个对象的内存地址是否一致，是否是同一个对象的引用。

- 在 Python 中针对于 `None` 比较时，建议用 `is` 判断

| 运算符   | 描述                                      | 实例                           |
| -------- | ----------------------------------------- | ------------------------------ |
| `is`     | is 是判断两个标识符是不是引用同一个对象   | x is y ，类似 id(x)==id(y)     |
| `is not` | id not 是判断两个标识符是不是引用不同对象 | x is not y ，类似 id(a)!=id(b) |

`is` 与 `==` 的区别

- `is` 是判断两个变量的地址是不是一样
- `==` 是判断两个变量的值是不是一样

### 定义私有函数或者变量

- 只需要再方法名前或者属性前面加上两个下划线 `__` 即可
- 私有成员只允许类内访问
- 私有犯法也不允许在类外使用

但是，并不是真正意义上的私有，只是解释器中做了处理。

- 处理方式，在名称前面加上 `_类名` => `_类名__名称`

```python
# 私有属性
print(xiaofang._Women__age)

# 私有方法
xiaofang._Women__secret()
```

### 继承

继承的语法：

```python
class 类名(父类名)：
	pass
```

- 子类继承父类，可以直接享受父类中已经封装好的方法
- 子类中应该根据职责，封装子类特有的属性和方法
- 继承具有传递性，子类可以继承祖先类的方法和属性
- 当父类的方法不能满足子类的足球，可以对父类方法进行重写，方法是定义同一方法

**对父类方法进行扩展**：

- 如果只是对父类方法进行扩展时：
  1. 在子类中重写父类方法
  2. 在需要的位置使用 `super().父类方法()` 来调用父类方法的执行
  3. 代码的其他位置针对子类的需求，编写**子类特有的代码实现**
- 关于 `super`
  1. 在 Python 中是一个特殊的类
  2. `super()` 就是使用 `super` 类创建出来的对象
  3. 最常使用的场景就是在重写父类方法时，调用在父类中封装的方法实现

**调用父类方法的另一种方式**

在Python 2.x 时，如果需要调用父类的方法，还可以使用以下方式： 

```python
父类名.方法名(self)
```

